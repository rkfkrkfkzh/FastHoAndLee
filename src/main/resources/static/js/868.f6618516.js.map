{"version":3,"file":"js/868.f6618516.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEJ,EAAIK,KAAMH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeE,YAAY,CAAC,OAAS,QAAQ,aAAa,QAAQ,MAAQ,QAAQC,MAAM,CAAC,IAAMP,EAAIQ,YAAYR,EAAIK,KAAKI,UAAU,IAAM,gBAAgBP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIK,KAAKO,SAASV,EAAG,IAAI,CAACE,YAAY,aAAa,CAACJ,EAAIU,GAAG,OAAOV,EAAIW,GAAGX,EAAIa,YAAYb,EAAIK,KAAKS,QAAQ,OAAOZ,EAAG,IAAI,CAACE,YAAY,aAAa,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIK,KAAKU,gBAAgBb,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,IAAM,YAAY,CAACP,EAAIU,GAAG,UAAUR,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACJ,KAAK,QAAQK,QAAQ,UAAUC,MAAOlB,EAAImB,QAASC,WAAW,YAAYhB,YAAY,eAAeG,MAAM,CAAC,KAAO,OAAO,GAAK,UAAU,IAAMP,EAAIqB,OAAOC,SAAS,CAAC,MAAStB,EAAImB,SAAUI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiB1B,EAAImB,QAAQK,EAAOC,OAAOP,MAAK,OAAOhB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,IAAM,aAAa,CAACP,EAAIU,GAAG,WAAWR,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACJ,KAAK,QAAQK,QAAQ,UAAUC,MAAOlB,EAAI2B,SAAUP,WAAW,aAAahB,YAAY,eAAeG,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,IAAMP,EAAImB,SAAWnB,EAAIqB,OAAOC,SAAS,CAAC,MAAStB,EAAI2B,UAAWJ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiB1B,EAAI2B,SAASH,EAAOC,OAAOP,MAAK,OAAOhB,EAAG,SAAS,CAACE,YAAY,wCAAwCmB,GAAG,CAAC,MAAQvB,EAAI4B,cAAc,CAAC5B,EAAIU,GAAG,iBAAiBV,EAAI6B,MACrhD,EACIC,EAAkB,G,8BCyBtB,GACAC,IAAAA,GACA,OACA1B,KAAA,KACAc,QAAA,GACAQ,SAAA,GACAN,OAAA,IAAAW,MAAAC,cAAAC,MAAA,QAEA,EACAC,SAAA,KACAC,EAAAA,EAAAA,IAAA,0BAEAC,OAAAA,GACA,MAAAC,EAAA,KAAAC,OAAAC,OAAAC,GACAC,EAAAA,EAAAC,IAAA,iBAAAL,KACAM,MAAAC,IACAA,EAAAd,MACAe,QAAAC,IAAAF,EAAAd,MAEA,KAAA1B,KAAAwC,EAAAd,KACAe,QAAAC,IAAA,kBAAA1C,OAGAyC,QAAAE,MAAA,iBACA,IAEAC,OAAAD,IACAF,QAAAE,MAAA,iCAAAA,EAAA,GAEA,EACAE,QAAA,CACA1C,WAAAA,CAAA2C,GACA,UAAAA,GACA,EACAtC,WAAAA,CAAAC,GACA,YAAAsC,IAAAtC,GAAA,OAAAA,EACA,WAEAA,EAAAuC,WAAAC,QAAA,4BACA,EACA1B,WAAAA,GACA,SAAA2B,WAEA,YADAC,MAAA,eAIA,SAAAC,OAGA,OAFAX,QAAAE,MAAA,4BACAQ,MAAA,eAIA,MAAAE,EAAA,CACApB,OAAA,KAAAjC,KAAAoC,GACAgB,OAAA,KAAAA,OACAtC,QAAA,KAAAA,QACAQ,SAAA,KAAAA,UAGAmB,QAAAC,IAAA,qBAAAW,GAEAhB,EAAAA,EAAAiB,KAAA,uBAAAD,GACAd,MAAAC,IACAC,QAAAC,IAAA,WAAAF,EAAAd,MACAyB,MAAA,sBACA,KAAAI,QAAAC,KAAA,QAEAZ,OAAAD,IACAF,QAAAE,MAAA,QAAAA,GACAQ,MAAA,kCAEA,IClGyP,I,UCQrPM,GAAY,OACd,EACA/D,EACA+B,GACA,EACA,KACA,KACA,MAIF,EAAegC,EAAiB,O","sources":["webpack://frontend/./src/views/RoomDetail.vue","webpack://frontend/src/views/RoomDetail.vue","webpack://frontend/./src/views/RoomDetail.vue?e147","webpack://frontend/./src/views/RoomDetail.vue?0277"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mt-5\"},[(_vm.room)?_c('div',{staticClass:\"card mb-4\"},[_c('img',{staticClass:\"card-img-top\",staticStyle:{\"height\":\"300px\",\"object-fit\":\"cover\",\"width\":\"100%\"},attrs:{\"src\":_vm.getImageUrl(_vm.room.imageUrl),\"alt\":\"Room Image\"}}),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.room.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(\"금액: \"+_vm._s(_vm.formatPrice(_vm.room.price))+\"원\")]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.room.description))]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"checkIn\"}},[_vm._v(\"체크인:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkIn),expression:\"checkIn\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"id\":\"checkIn\",\"min\":_vm.today},domProps:{\"value\":(_vm.checkIn)},on:{\"input\":function($event){if($event.target.composing)return;_vm.checkIn=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"checkOut\"}},[_vm._v(\"체크아웃:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkOut),expression:\"checkOut\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"id\":\"checkOut\",\"min\":_vm.checkIn || _vm.today},domProps:{\"value\":(_vm.checkOut)},on:{\"input\":function($event){if($event.target.composing)return;_vm.checkOut=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary btn-lg btn-block mt-3\",on:{\"click\":_vm.reserveRoom}},[_vm._v(\"객실 예약하기\")])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mt-5\">\n    <div v-if=\"room\" class=\"card mb-4\">\n      <img class=\"card-img-top\" :src=\"getImageUrl(room.imageUrl)\" alt=\"Room Image\"\n           style=\"height: 300px; object-fit: cover; width: 100%;\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{ room.name }}</h5>\n        <p class=\"card-text\">금액: {{ formatPrice(room.price) }}원</p>\n        <p class=\"card-text\">{{ room.description }}</p>\n        <!-- 체크인, 체크아웃 날짜 선택 -->\n        <div class=\"form-group\">\n          <label for=\"checkIn\">체크인:</label>\n          <input type=\"date\" id=\"checkIn\" v-model=\"checkIn\" class=\"form-control\" :min=\"today\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"checkOut\">체크아웃:</label>\n          <input type=\"date\" id=\"checkOut\" v-model=\"checkOut\" class=\"form-control\" :min=\"checkIn || today\">\n        </div>\n        <button class=\"btn btn-primary btn-lg btn-block mt-3\" @click=\"reserveRoom\">객실 예약하기</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport {mapState} from 'vuex';\n\nexport default {\n  data() {\n    return {\n      room: null,\n      checkIn: '',\n      checkOut: '',\n      today: new Date().toISOString().split('T')[0] // 오늘 날짜를 'YYYY-MM-DD' 형식으로 설정\n    };\n  },\n  computed: {\n    ...mapState(['isLoggedIn', 'userId']),\n  },\n  mounted() {\n    const roomId = this.$route.params.id;\n    axios.get(`/rooms/detail/${roomId}`) // 백틱(`)을 사용하여 템플릿 문자열을 올바르게 작성\n        .then(response => {\n          if (response.data) {\n            console.log(response.data); // 응답 데이터를 콘솔에 출력하여 확인\n\n            this.room = response.data;\n            console.log('Room data:', this.room);\n\n          } else {\n            console.error('이미지 URL이 없습니다.');\n          }\n        })\n        .catch(error => {\n          console.error('객실 세부정보를 가져오는 중에 오류가 발생했습니다.\\n', error);\n        });\n  },\n  methods: {\n    getImageUrl(filename) {\n      return `/${filename}`;\n    },\n    formatPrice(price) {\n      if (price === undefined || price === null) {\n        return '가격 정보 없음';\n      }\n      return price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    reserveRoom() {\n      if (!this.isLoggedIn) {\n        alert('로그인이 필요합니다.');\n        return;\n      }\n      // userId가 올바르게 설정되어 있는지 확인\n      if (!this.userId) {\n        console.error(\"userId가 정의되지 않았습니다.\");\n        alert('로그인이 필요합니다.');\n        return;\n      }\n\n      const reservationData = {\n        roomId: this.room.id,\n        userId: this.userId,\n        checkIn: this.checkIn,\n        checkOut: this.checkOut\n      };\n\n      console.log(\"Reservation Data: \", reservationData); // 디버깅용 로그\n\n      axios.post('/reservations/create', reservationData)\n          .then(response => {\n            console.log(\"예약 성공 : \", response.data);\n            alert(\"예약이 성공적으로 완료되었습니다.\");\n            this.$router.push('/'); // 예약 성공 후 홈페이지로 리다이렉트\n          })\n          .catch(error => {\n            console.error(\"에러 : \", error);\n            alert(\"예약 중 오류가 발생했습니다. 다시 시도해 주세요.\");\n          });\n    }\n  }\n}\n</script>\n<style>\n/* 고객중심지향적으로 디자인을 개선하기 위한 스타일 추가 */\n.card-body {\n  padding: 20px;\n}\n\n.card-title {\n  font-size: 1.5rem;\n  font-weight: bold;\n}\n\n.card-text {\n  margin-bottom: 1rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.btn-lg {\n  font-size: 1.25rem;\n  padding: 0.75rem 1.25rem;\n}\n\n.btn-block {\n  display: block;\n  width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RoomDetail.vue?vue&type=template&id=93e621b0\"\nimport script from \"./RoomDetail.vue?vue&type=script&lang=js\"\nexport * from \"./RoomDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./RoomDetail.vue?vue&type=style&index=0&id=93e621b0&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","room","staticStyle","attrs","getImageUrl","imageUrl","_v","_s","name","formatPrice","price","description","directives","rawName","value","checkIn","expression","today","domProps","on","$event","target","composing","checkOut","reserveRoom","_e","staticRenderFns","data","Date","toISOString","split","computed","mapState","mounted","roomId","$route","params","id","axios","get","then","response","console","log","error","catch","methods","filename","undefined","toString","replace","isLoggedIn","alert","userId","reservationData","post","$router","push","component"],"sourceRoot":""}