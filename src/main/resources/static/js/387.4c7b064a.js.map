{"version":3,"file":"js/387.4c7b064a.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIK,GAAG,SAASH,EAAG,OAAO,CAACE,YAAY,aAAaE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBR,EAAIS,aAAaC,MAAM,KAAMC,UAAU,IAAI,CAACT,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,WAAW,CAACZ,EAAIK,GAAG,aAAaH,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,OAAQC,WAAW,WAAWd,YAAY,eAAeQ,MAAM,CAAC,KAAO,OAAO,GAAK,SAAS,SAAW,IAAIO,SAAS,CAAC,MAASnB,EAAIiB,QAASX,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBrB,EAAIiB,OAAOV,EAAOa,OAAOJ,MAAK,OAAOd,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,YAAY,CAACZ,EAAIK,GAAG,WAAWH,EAAG,QAAQ,CAACW,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIsB,QAASJ,WAAW,YAAYd,YAAY,eAAeQ,MAAM,CAAC,KAAO,WAAW,GAAK,UAAU,SAAW,IAAIO,SAAS,CAAC,MAASnB,EAAIsB,SAAUhB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAiBrB,EAAIsB,QAAQf,EAAOa,OAAOJ,MAAK,OAAOd,EAAG,SAAS,CAACE,YAAY,kBAAkBQ,MAAM,CAAC,KAAO,WAAW,CAACZ,EAAIK,GAAG,SAAUL,EAAIuB,WAAYrB,EAAG,IAAI,CAACE,YAAY,QAAQe,SAAS,CAAC,UAAYnB,EAAIwB,GAAGxB,EAAIyB,0BAA0BzB,EAAI0B,OAAOxB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACF,EAAIK,GAAG,eAAeH,EAAG,cAAc,CAACE,YAAY,eAAeQ,MAAM,CAAC,GAAK,cAAc,CAACZ,EAAIK,GAAG,WAAW,MAC/7C,EACIsB,EAAkB,G,8BC2BtB,GACAC,IAAAA,GACA,OACAX,OAAA,GACAK,QAAA,GACAC,YAAA,EACAM,kBAAA,GAEA,EACAC,SAAA,CACAL,qBAAAA,GACA,YAAAI,kBAAAE,QAAA,aACA,GAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,WACAxB,YAAAA,GACAyB,EAAAA,EAAAC,KAAA,eACAlB,OAAA,KAAAA,OACAK,QAAA,KAAAA,UAEAc,MAAAC,IACA,MAAAC,EAAAD,EAAAT,KAAAU,MACA,KAAAC,MAAAD,GACA,KAAAE,QAAAC,KAAA,QAEAC,OAAAC,IACAC,QAAAD,MAAA,UAAAA,GACA,KAAApB,YAAA,EAEAoB,EAAAN,SAEA,MAAAM,EAAAN,SAAAQ,OAEA,KAAAhB,kBAAAc,EAAAN,SAAAT,KAAAkB,QAAAf,QAAA,YAGA,KAAAF,kBAAA,4BAEAc,EAAAI,QAEA,KAAAlB,kBAAA,kCAGA,KAAAA,kBAAA,gCAEAe,QAAAI,IAAA,mBAAAnB,kBAAA,GAEA,IC7EwP,I,UCQpPoB,GAAY,OACd,EACAlD,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://frontend/./src/views/LoginForm.vue","webpack://frontend/src/views/LoginForm.vue","webpack://frontend/./src/views/LoginForm.vue?8212","webpack://frontend/./src/views/LoginForm.vue?22b8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('h1',{staticClass:\"login-title\"},[_vm._v(\"로그인\")]),_c('form',{staticClass:\"login-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.attemptLogin.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userId\"}},[_vm._v(\"사용자 ID:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userId),expression:\"userId\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"userId\",\"required\":\"\"},domProps:{\"value\":(_vm.userId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userId=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"userPwd\"}},[_vm._v(\"비밀번호:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userPwd),expression:\"userPwd\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"userPwd\",\"required\":\"\"},domProps:{\"value\":(_vm.userPwd)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userPwd=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"로그인\")]),(_vm.loginError)?_c('p',{staticClass:\"error\",domProps:{\"innerHTML\":_vm._s(_vm.formattedErrorMessage)}}):_vm._e()]),_c('div',{staticClass:\"register-link\"},[_c('p',[_vm._v(\"계정이 없으신가요? \"),_c('router-link',{staticClass:\"btn btn-link\",attrs:{\"to\":\"/register\"}},[_vm._v(\"회원가입\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-container\">\n    <h1 class=\"login-title\">로그인</h1>\n    <form @submit.prevent=\"attemptLogin\" class=\"login-form\">\n      <!-- 로그인 폼 -->\n      <div class=\"form-group\">\n        <label for=\"userId\">사용자 ID:</label>\n        <input type=\"text\" id=\"userId\" v-model=\"userId\" required class=\"form-control\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"userPwd\">비밀번호:</label>\n        <input type=\"password\" id=\"userPwd\" v-model=\"userPwd\" required class=\"form-control\">\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">로그인</button>\n      <p v-if=\"loginError\" class=\"error\" v-html=\"formattedErrorMessage\"></p>\n    </form>\n    <!-- 회원가입 링크 -->\n    <div class=\"register-link\">\n      <p>계정이 없으신가요?\n        <router-link to=\"/register\" class=\"btn btn-link\">회원가입</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      userId: '',\n      userPwd: '',\n      loginError: false,\n      loginErrorMessage: '',\n    }\n  },\n  computed: {\n    formattedErrorMessage() {\n      return this.loginErrorMessage.replace(/\\n/g, '<br>');\n    }\n  },\n  methods: {\n    ...mapActions(['login']), // Vuex 액션을 매핑, logout 제거\n    attemptLogin() {\n      axios.post('/auth/login', {\n        userId: this.userId,\n        userPwd: this.userPwd\n      })\n          .then(response => {\n            const token = response.data.token; // 수정된 서버 응답 구조에 맞게 토큰 값을 추출\n            this.login(token); // Vuex의 login 액션을 호출\n            this.$router.push('/');\n          })\n          .catch(error => {\n            console.error('로그인 실패:', error);\n            this.loginError = true;\n\n            if (error.response) {\n              // 서버가 응답을 반환한 경우\n              if (error.response.status === 401) {\n                // 인증 실패 (예: 아이디 또는 비밀번호가 틀린 경우)\n                this.loginErrorMessage = error.response.data.message.replace('\\\\n', '\\n');\n              } else {\n                // 다른 서버 오류\n                this.loginErrorMessage = '서버 오류가 발생했습니다. 다시 시도해주세요.';\n              }\n            } else if (error.request) {\n              // 요청이 만들어졌으나 응답을 받지 못한 경우\n              this.loginErrorMessage = '서버와 통신할 수 없습니다. 인터넷 연결을 확인해주세요.';\n            } else {\n              // 그 외의 에러\n              this.loginErrorMessage = '알 수 없는 오류가 발생했습니다. 다시 시도해주세요.';\n            }\n            console.log('로그인 에러 메시지:', this.loginErrorMessage);\n          });\n    },\n  }\n}\n</script>\n\n\n<style scoped>\n.login-container {\n  max-width: 400px;\n  margin: auto;\n  padding: 20px;\n}\n\n.login-title {\n  text-align: center;\n}\n\n.login-form {\n  background-color: #f8f9fa;\n  padding: 20px;\n  border-radius: 5px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-control {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ced4da;\n  border-radius: 3px;\n}\n\n.btn-primary {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  border: none;\n  border-radius: 3px;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background-color: #0056b3;\n}\n\n.error {\n  color: red;\n  margin-top: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LoginForm.vue?vue&type=template&id=11a2dcfa&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoginForm.vue?vue&type=style&index=0&id=11a2dcfa&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11a2dcfa\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","$event","preventDefault","attemptLogin","apply","arguments","attrs","directives","name","rawName","value","userId","expression","domProps","target","composing","userPwd","loginError","_s","formattedErrorMessage","_e","staticRenderFns","data","loginErrorMessage","computed","replace","methods","mapActions","axios","post","then","response","token","login","$router","push","catch","error","console","status","message","request","log","component"],"sourceRoot":""}